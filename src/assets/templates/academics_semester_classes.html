<div class="cc-widget">
  <div class="cc-widget-title">
    <h2 class="cc-left"><span data-ng-bind="widgetSemesterName"></span> Classes</h2>
    <a class="cc-academics-classes-booklist-link cc-right" data-ng-href="/academics/booklist/{{selectedSemester.slug}}" data-ng-if="selectedSemester.hasEnrollmentData && selectedSemester.timeBucket !== 'past'">Book List</a>
  </div>
  <div data-ng-if="selectedStudentSemester || ((selectedSemester.timeBucket === 'current') && !selectedTeachingSemester)">
    <div class="cc-academics-subtitle">
      <h3>Enrollments</h3>
    </div>
    <div class="cc-widget-padding">
      <h3 data-ng-if="selectedSemester.timeBucket === 'current'">Current</h3>
      <div class="cc-table">
        <table data-ng-if="enrolledCourses.length">
          <thead>
            <th scope="col" class="cc-table-right-spacing">Course</th>
            <th scope="col">Title</th>
            <th scope="col">Grade Option</th>
            <th class="cc-table-right" scope="col">Units</th>
          </thead>
          <tbody data-ng-repeat="course in enrolledCourses" data-ng-class-even="'cc-academics-even'">
            <tr>
              <td class="cc-table-right-spacing cc-academics-course-number">
                <a data-ng-href="{{course.url}}" data-ng-bind="course.course_code">
                </a>
                <div data-ng-repeat="section in course.sections">
                  <span data-ng-bind="section.section_label"></span>
                </div>
              </td>
              <td data-ng-bind="course.title"></td>
              <td data-ng-bind="course.gradeOption"></td>
              <td class="cc-table-right" data-ng-bind="course.units | number:1"></td>
            </tr>
          </tbody>
        </table>
        <div data-ng-if="!enrolledCourses.length">
          You are not currently enrolled in any courses for <span data-ng-bind="selectedSemester.name"></span>.
        </div>
      </div>
      <div data-ng-if="waitlistedCourses.length">
        <h3>Wait Lists</h3>
        <div class="cc-table">
          <table>
            <thead>
              <th>Course Number &amp; Section</th>
              <th>Title</th>
              <th>Waitlist Position / Class Size</th>
            </thead>
            <tbody data-ng-repeat="course in waitlistedCourses">
              <tr data-ng-repeat="section in course.sections">
                <td>
                  <a data-ng-href="{{course.url}}" data-ng-bind="course.course_code">
                  </a>
                  <span data-ng-bind="section.section_label"></span>
                </td>
                <td data-ng-bind="course.title"></td>
                <td>
                  <div data-ng-if="section.waitlisted && section.waitlistPosition">
                    <strong data-ng-bind="section.waitlistPosition"></strong> on list of class of <strong data-ng-bind="section.enroll_limit"></strong>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div data-ng-if="selectedTeachingSemester && (selectedTeachingSemester.gradingAssistanceLinkMidpoint || selectedTeachingSemester.gradingAssistanceLink || selectedTeachingSemester.gradingAssistanceLinkLaw)">
    <div class="cc-academics-subtitle">
      <h3>Grading</h3>
    </div>
    <div class="cc-academics-course-grading-header cc-widget-padding show-for-medium-up">
      <div class="cc-clearfix" data-ng-if="gradingPeriodMidpointStart || gradingPeriodFinalStart || gradingPeriodStartLaw">
        <h4 class="cc-academics-course-standard-grading-header cc-academics-course-grading-header-period">Standard Grading Entry Periods</h4>
      </div>
      <div class="cc-clearfix" data-ng-if="selectedTeachingSemester.gradingAssistanceLinkMidpoint">
        <span>
          <a data-ng-href="{{selectedTeachingSemester.gradingAssistanceLinkMidpoint}}" title="Assistance with midpoint grading for general classes">
            &#9632; Assistance with Midpoint Grading: General
          </a>
        </span>
        <span data-ng-if="selectedTeachingSemester.gradingPeriodMidpointStart && selectedTeachingSemester.gradingPeriodMidpointEnd" class="cc-academics-course-grading-header-period">
          <span class="cc-text-light">Midpoint Grades</span> Start: <strong><span data-ng-bind="selectedTeachingSemester.gradingPeriodMidpointStart"></span></strong> | Due: <strong><span data-ng-bind="selectedTeachingSemester.gradingPeriodMidpointEnd"></span></strong>
        </span>
      </div>
      <div class="cc-clearfix" data-ng-if="selectedTeachingSemester.gradingAssistanceLink">
        <span>
          <a data-ng-href="{{selectedTeachingSemester.gradingAssistanceLink}}" title="Assistance with grading for general classes">
            &#9632; Assistance with Grading: General
          </a>
        </span>
        <span data-ng-if="selectedTeachingSemester.gradingPeriodFinalStart && selectedTeachingSemester.gradingPeriodFinalEnd" class="cc-academics-course-grading-header-period">
          <span class="cc-text-light">Final Grades</span> Start: <strong><span data-ng-bind="selectedTeachingSemester.gradingPeriodFinalStart"></span></strong> | Due: <strong><span data-ng-bind="selectedTeachingSemester.gradingPeriodFinalEnd"></span></strong>
        </span>
      </div>
      <div class="cc-clearfix" data-ng-if="selectedTeachingSemester.gradingAssistanceLinkLaw">
        <span>
          <a data-ng-href="{{selectedTeachingSemester.gradingAssistanceLinkLaw}}" title="Assistance with grading for Law classes">
            &#9632; Assistance with Grading: Law
          </a>
        </span>
        <span data-ng-if="selectedTeachingSemester.gradingPeriodStartLaw && selectedTeachingSemester.gradingPeriodEndLaw" class="cc-academics-course-grading-header-period">
          <span class="cc-text-light">Final Grades (Law)</span> Start: <strong><span data-ng-bind="selectedTeachingSemester.gradingPeriodStartLaw"></span></strong> | Due: <strong><span data-ng-bind="selectedTeachingSemester.gradingPeriodEndLaw"></span></strong>
        </span>
      </div>
    </div>
    <div class="cc-widget-padding">
      <div class="cc-table">
        <table>
          <thead>
            <th width="15%" scope="col" class="cc-academics-course-number">Course</th>
            <th width="10%" scope="col" class="show-for-medium-up">Class Number</th>
            <th data-ng-attr-width="{{containsMidpointclass ? '35%' : '45%'}}" scope="col">Title</th>
            <th width="10%" scope="col" class="show-for-medium-up cc-academics-course-section">Section</th>
            <th width="10%" scope="col" class="show-for-medium-up cc-academics-course-grading cc-academics-course-grading-centered">Grading Links</th>
            <th data-ng-if="containsMidpointClass" width="10%" scope="col" class="show-for-medium up cc-academics-course-grading cc-academics-course-grading-centered">Midpoint Status</th>
            <th width="10%" scope="col" class="show-for-medium-up cc-academics-course-grading cc-academics-course-grading-centered">Final Status</th>
          </thead>
          <tbody data-ng-if="selectedTeachingSemester.classes.length" data-ng-repeat="course in selectedTeachingSemester.classes">
            <tr data-ng-repeat="section in course.sections">
              <td data-ng-if="section.is_primary_section">
                <div data-ng-repeat="listing in course.listings">
                  <span data-ng-bind="listing.course_code"></span>
                </div>
                <div class="show-for-small-only">
                  <span data-ng-bind="section.section_label"></span>
                </div>
              </td>
              <td data-ng-if="section.is_primary_section" class="show-for-medium-up">
                <div data-ng-bind="section.ccn"></div>
              </td>
              <td data-ng-if="section.is_primary_section" class="cc-academics-course-title" data-ng-bind="course.title"></td>
              <td data-ng-if="section.is_primary_section" class="show-for-medium-up">
                <div data-ng-bind="section.section_label"></div>
              </td>
              <td data-ng-if="section.is_primary_section && section.gradingLink.url" class="show-for-medium-up cc-academics-course-grading-centered">
                <a data-cc-campus-solutions-link-directive="section.gradingLink.url"
                  data-cc-campus-solutions-link-directive-enabled="{{section.gradingLink.isCsLink}}"
                  data-cc-campus-solutions-link-directive-text="currentPage.name"
                  data-cc-outbound-enabled="false"
                  data-ng-disabled="!section.gradingLink.url"
                  data-ng-attr-title="{{section.gradingLink.title}}">
                  Grades
                </a>
              </td>
              <td data-ng-if="section.is_primary_section && !section.gradingLink.url" class="show-for-medium-up cc-academics-course-grading-centered">
                &mdash;
              </td>
              <td data-ng-if="section.is_primary_section && containsMidpointClass" class="show-for-medium-up cc-academics-course-grading-centered" data-ng-switch="section.ccMidpointGradingStatus">
                <i data-ng-switch-when="periodNotStarted" class="fa fa-ban"></i>
                <i data-ng-switch-when="periodStarted" class="fa fa-file-o"></i>
                <i data-ng-switch-when="gradesPosted" class="fa fa-check-circle cc-icon-green"></i>
                <i data-ng-switch-default class="fa fa-circle"></i>
              </td>
              <td data-ng-if="section.is_primary_section" class="show-for-medium-up cc-academics-course-grading-centered" data-ng-switch="section.ccGradingStatus">
                <i data-ng-switch-when="periodNotStarted" class="fa fa-ban"></i>
                <i data-ng-switch-when="periodStarted" class="fa fa-file-o"></i>
                <i data-ng-switch-when="gradesApproved" class="fa fa-check cc-icon-green"></i>
                <i data-ng-switch-when="gradesPosted" class="fa fa-check-circle cc-icon-green"></i>
                <i data-ng-switch-when="gradesOverdue" class="fa fa-exclamation-circle cc-icon-red"></i>
                <i data-ng-switch-default class="fa fa-ban"></i>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="cc-academics-course-grading-footer cc-widget-padding show-for-medium-up">
      <h3>Grading Status Legend</h3>
      <div class="cc-table">
        <table>
          <tr>
            <td>
              <i class="fa fa-ban"></i>
            </td>
            <td width="20%">
              <span>
                Grade entry period not started or no access
                <span data-ng-if="selectedTeachingSemester.gradingAssistanceLinkLaw">
                  <br>
                  Law classes: Instructor may need to submit raw scores
                </span>
              </span>
            </td>
            <td rowspan="2">
              <i class="fa fa-file-o"></i>
            </td>
            <td rowspan="2">
              <span>Grade entry period started and grades not yet approved or posted</span>
            </td>
            <td>
              <i class="fa fa-check cc-icon-green"></i>
            </td>
            <td>
              <span>Grades approved</span>
            </td>
            <td rowspan="2">
              <i class="fa fa-exclamation-circle cc-icon-red"></i>
            </td>
            <td rowspan="2">
              <span>Final grade entry period ended and grades overdue</span>
            </td>
          </tr>
          <tr>
            <td>
              <span><i class="fa fa-circle"></i></span>
            </td>
            <td>
              <span>
                No midpoint grade roster for Law classes
              </span>
            </td>
            <td>
              <i class="fa fa-check-circle cc-icon-green"></i>
            </td>
            <td>
              <span>Grades posted<br>
              <strong>Note:</strong> Classes with no midpoint grades entered are also marked as posted.</span>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
  <div data-ng-if="selectedTeachingSemester">
    <div class="cc-academics-subtitle">
      <h3>Teaching</h3>
    </div>
    <div class="cc-widget-padding">
      <div class="cc-table">
        <table>
          <thead>
            <th scope="col" class="cc-table-right-spacing">Course</th>
            <th scope="col" class="show-for-medium-up">Class Number</th>
            <th scope="col">Title</th>
            <th scope="col" class="show-for-medium-up">Sections</th>
          </thead>
          <tbody data-ng-if="selectedTeachingSemester.classes.length" data-ng-repeat="course in selectedTeachingSemester.classes">
            <tr data-ng-class-even="'cc-academics-even'">
              <td class="cc-table-right-spacing cc-academics-course-number">
                <div data-ng-repeat="listing in course.listings">
                  <a data-ng-href="{{course.url}}"
                     data-ng-bind="listing.course_code">
                  </a>
                </div>
                <div class="show-for-small-only">
                  <span data-ng-bind="course.scheduledSectionCount"></span>
                  <span data-ng-pluralize count="course.scheduledSectionCount" when="{'1': 'section', 'other': 'sections'}">sections</span>
                </div>
              </td>
              <td class="show-for-medium-up">
                <div data-ng-if="!course.multiplePrimaries" data-ng-bind="course.sections[0].ccn"></div>
                <div data-ng-if="course.multiplePrimaries">Multiple</div>
              </td>
              <td data-ng-bind="course.title"></td>
              <td class="show-for-medium-up">
                <div data-ng-repeat="scheduledSection in course.scheduledSections">
                  <span data-ng-bind="scheduledSection.count"></span> <span data-ng-bind="scheduledSection.format"></span>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
